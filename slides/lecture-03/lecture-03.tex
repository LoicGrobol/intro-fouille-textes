% Copyright ¬© 2019, Lo√Øc Grobol <loic.grobol@gmail.com>
% This document is available under the terms of the Creative Commons Attribution 4.0 International License (CC BY 4.0) (https://creativecommons.org/licenses/by/4.0/)

\RequirePackage{xparse}
\RequirePackage{shellesc}
% Settings
\newcommand\myname{Lo√Øc Grobol}
\newcommand\mylab{Lattice / LLF}
\newcommand\pdftitle{Introduction √† la fouille de textes}
\newcommand\mymail{loic.grobol@gmail.com}
\newcommand\titlepagetitle{\pdftitle}
\newcommand\titlepagesubtitle{Cours 3 : Annotation, extraction d'informations et relations entre t√¢ches}
\newcommand\docdate{2021-02-11}  % chktex 8
\newcommand\conference{M1 Plurital}

% \RequirePackage{hyperxmp}  % Results in a complex failure with beamer + tikzexternal (2020-01-17)
\documentclass[xcolor={svgnames}, french]{beamer}
\hypersetup{
	pdftitle={\pdftitle},
	pdfauthor={\myname},
	% pdfcontactemail={\mymail},  % hyperxmp
	breaklinks,
	hypertexnames=true,
	pdfdisplaydoctitle,
	pdflang={fr},
	% keeppdfinfo,  % hyperxmp
}

% Colour palette from [Paul Tol's technical note](https://personal.sron.nl/~pault/data/colourschemes.pdf) v3.1
% Bright scheme
\definecolor{sronbrightblue}{RGB}{68, 119, 170}
\definecolor{sronbrightcyan}{RGB}{102, 204, 238}
\definecolor{sronbrightgreen}{RGB}{34, 136, 51}
\definecolor{sronbrightyellow}{RGB}{204, 187, 68}
\definecolor{sronbrightred}{RGB}{238, 102, 119}
\definecolor{sronbrightpurple}{RGB}{170, 51, 119}
\definecolor{sronbrightgrey}{RGB}{187, 187, 187}


\colorlet{highlight0}{sronbrightblue}
\colorlet{highlight1}{sronbrightred}
\colorlet{highlight2}{sronbrightgreen}
\colorlet{highlight3}{sronbrightyellow}
\colorlet{highlight4}{sronbrightcyan}
\colorlet{highlight5}{sronbrightpurple}
\colorlet{highlight6}{sronbrightgrey}
% Legacy highlights
\definecolor{highlighta}{RGB}{68, 118, 170}  % Navy blue
\definecolor{highlight7}{RGB}{136, 34, 85}    % Purple
\definecolor{highlight8}{RGB}{170, 68, 153}   % Violet


\usetheme[
	sectionpage=progressbar,
	subsectionpage=progressbar,
	progressbar=frametitle,
]{metropolis}
	\colorlet{accent}{sronbrightgreen}
	\setbeamercolor{frametitle}{bg=DarkSlateGrey}
	\setbeamercolor{alerted text}{fg=accent}
	\makeatletter
		\setlength{\metropolis@progressinheadfoot@linewidth}{2pt}
	\makeatother
	% Avoid ugly whitespace below figures
	% \makeatletter
	% 	\renewenvironment{figure}[1][]{%
	% 	\def\@captype{figure}%
	% 	\par\centering}%
	% 	{\par}
	% \makeatother
	% FIXME: not pretty and footnotes are still too big
	\let\footnoterule\relax  % No footnote rule, push down footnote


% Use non-standard fonts
\usepackage{fontspec}
\usefonttheme{professionalfonts}

\directlua{luaotfload.add_fallback
   ("emojifallback",
    {
      "NotoColorEmoji:mode=harf;"
    }
   )}

\setsansfont{Fira Sans}[
	BoldFont={* Semibold},
	RawFeature={fallback=emojifallback},
]
\setmonofont[Scale=0.9]{Fira Mono}
\newfontfamily\fallbackfont{Deja Vu Sans}
\newfontfamily\emojifont{Noto Color Emoji}[Renderer=HarfBuzz]
\frenchspacing

% Fix missing glyphs in Fira by delegating to polyglossia/babel
\usepackage{newunicodechar}
\newunicodechar{‚ÄØ}{~}   % U+202F NARROW NO-BREAK SPACE
\newunicodechar{‚Äâ}{ }  % U+2009 THIN SPACE

% Notes on left screen
% \usepackage{pgfpages}
% \setbeameroption{show notes on second screen=left}


\usepackage[french, english]{babel}
\usepackage{amsfonts,amssymb}
\usepackage{amsmath,amsthm}
\usepackage{mathtools}	% AMS Maths service pack
	% Pour des lignes d'√©quation num√©rot√©es entre crochets
	\newtagform{brackets}{[}{]} % chktex 9
	\mathtoolsset{showonlyrefs, showmanualtags, mathic}	% affiche les tags manuels (\tag et \tag*) et corrige le kerning des maths inline dans un bloc italique voir la doc de mathtools
	\usetagform{brackets}	% Utilise le style de tags d√©fini plus haut
\usepackage{lualatex-math}

\usepackage[math-style=french]{unicode-math}
	\setmathfont[Scale=1.1]{Libertinus Math}
\usepackage{newunicodechar}
	\newunicodechar{‚àö}{\sqrt}
\usepackage{mleftright}

\usepackage{tabu}
\usepackage{booktabs}
\usepackage{siunitx}
	\sisetup{
		binary-units=true,
		detect-all,
		detect-inline-weight=math,
		group-separator=\text{\,},
	}
	\DeclareSIUnit{\quantity}{\relax}
	\DeclareSIUnit{\words}{words}
	\DeclareSIUnit{\sentences}{sentences}
	% Needed for italics and bold numbers in siunitx S-aligned columns
	\usepackage{siunitx}
	\robustify\itshape
	\robustify\bfseries
\usepackage{multicol}
\usepackage{ccicons}
\usepackage{bookmark}
\usepackage{caption}
	\captionsetup{skip=1ex}
\usepackage[iso]{datetime}

\usepackage{tikz}
	\NewDocumentCommand{\textnode}{O{}mm}{\tikz[remember picture, baseline=(#2.base), inner sep=0pt]{\node[#1] (#2) {#3};}} % chktex 36
	\NewDocumentCommand{\mathnode}{O{}mm}{\tikz[remember picture, baseline=(#2.base), inner sep=0pt]{\node[#1] (#2) {\(\displaystyle #3\)};}} % chktex 36
	\tikzset{
		alt/.code args={<#1>#2#3}{%
		\alt<#1>{\pgfkeysalso{#2}}{\pgfkeysalso{#3}} % \pgfkeysalso doesn't change the path
		},
		invisible/.style={opacity=0, fill opacity=0},
		visible on/.style={alt={<#1>{}{invisible}}}
	}
	\usepackage{forest}
	\usepackage{tkz-graph}
	\usepackage[beamer, markings]{hf-tikz}
	\usepackage{tikz-3dplot}
	\usepackage{pgfplots}
		% Due to pgfplots meddling with pgfkeys, we have to redefine alt here.
		\pgfplotsset{
			alt/.code args={<#1>#2#3}{%
			\alt<#1>{\pgfkeysalso{#2}}{\pgfkeysalso{#3}} % \pgfkeysalso doesn't change the path
			},
		}
		\pgfplotsset{compat=1.16}
		\pgfplotsset{colormap={SRON}{rgb255=(61,82,161) rgb255=(255,250,210) rgb255=(174,28,62)}} % chktex 36
	\usetikzlibrary{matrix}
	\usetikzlibrary{shapes, shapes.geometric}
	\usetikzlibrary{decorations.pathreplacing}
	\usetikzlibrary{positioning, calc, intersections}
	\usetikzlibrary{fit}
	\usetikzlibrary{backgrounds}

	% Do evil things with soft path
	\makeatletter
		\def\@appendnamedsoftpath#1{% chktex 21
			\pgfsyssoftpath@getcurrentpath\@temppatha % chktex 21 chktex 1
			\expandafter\let\expandafter\@temppathb\csname tikz@intersect@path@name@#1\endcsname % chktex 41 chktex 21
			\expandafter\expandafter\expandafter\def\expandafter\expandafter\expandafter\@temppatha\expandafter\expandafter\expandafter{\expandafter\@temppatha\@temppathb} % chktex 41 chktex 21
			\pgfsyssoftpath@setcurrentpath\@temppatha % chktex 21 chktex 1
		}
		\def\@appendnamedpathforactions#1{% chktex 21
			\pgfsyssoftpath@getcurrentpath\@temppatha % chktex 1 chktex 21
			\expandafter\let\expandafter\@temppathb\csname tikz@intersect@path@name@#1\endcsname % chktex 21 chktex 41
			\expandafter\def\expandafter\@temppatha\expandafter{\csname @temppatha\expandafter\endcsname\@temppathb} % chktex 21 chktex 41

			\let\tikz@actions@path\@temppatha  % chktex 21 chktex 1
		}

		\tikzset{
			use path for main/.code={%
				\tikz@addmode{%
					\expandafter\pgfsyssoftpath@setcurrentpath\csname tikz@intersect@path@name@#1\endcsname % chktex 21 chktex 41
				}%
			},
			append path for main/.code={%
				\tikz@addmode{%
					\@appendnamedsoftpath{#1}%
				}%
			},
			use path for actions/.code={%
				\expandafter\def\expandafter\tikz@preactions\expandafter {\tikz@preactions\expandafter\let\expandafter\tikz@actions@path\csname tikz@intersect@path@name@#1\endcsname}% chktex 21 chktex 41
			},
			append path for actions/.code={%
				\expandafter\def\expandafter\tikz@preactions\expandafter{\tikz@preactions % chktex 21 chktex 41 chktex 1
				\@appendnamedpathforactions{#1}}%
			},
			use path/.style={%
				use path for main=#1,
				use path for actions=#1,
			},
			append path/.style={%
				append path for main=#1,
				append path for actions=#1
			}
		}
	\makeatother

	% TikZ externalisation
	\usetikzlibrary{external}
	% Create the `tikzpics/` folder if it does not exist
	\ShellEscape{mkdir -p tikzpics}
	% Only externalise pictures on demand (to avoid messing up with metropolis theme)
	\tikzset{
		external/export=false,
		external/prefix=tikzpics/
	}
	\tikzexternalize % chktex 1

\usepackage{minted}
	\usemintedstyle{lovelace}
	\setminted{autogobble, tabsize=2}
	\setmintedinline{fontsize=auto}

\usepackage{csquotes}

\usepackage[style=authoryear, block=ragged, doi=false, isbn=false]{biblatex}
	\AtEveryBibitem{
		\ifentrytype{online}
		{} {
			\iffieldequalstr{howpublished}{online}
			{
				\clearfield{howpublished}
			} {
				\clearfield{urlyear}\clearfield{urlmonth}\clearfield{urlday}
			}
		}
	}

	\addbibresource{../biblio.bib}

\AtEveryBibitem{
	\clearfield{series}
	\clearfield{pages}
	% \clearlist{publisher}
	\clearname{editor}
	% \clearlist{location}
}
\renewcommand*{\bibfont}{\tiny}


\usepackage{hyperxmp}	% XMP metadata

\usepackage[type={CC}, modifier={by}, version={4.0}]{doclicense}

\usepackage{todonotes}
\let\todox\todo % chktex 1
\renewcommand\todo[1]{\todox[inline]{#1}}

\title{\titlepagetitle}
\subtitle{\titlepagesubtitle}
\author{\textbf{\myname} (\mylab)}
\institute{}
\date{\tiny Version {\yyyymmdddate\today}T\currenttime}

\titlegraphic{\ccby}

% Tikz styles

% Sch√©mas de t√¢ches
\tikzset{
	>=stealth,
	hair lines/.style={line width = 0.05pt, lightgray},
	data/.style={draw, ellipse},
	program/.style={draw, rectangle},
	accent on/.style={alt={<#1>{draw=accent, text=accent, thick}{draw}}},
	true scale/.style={scale=#1, every node/.append style={scale=#1}},
	highlight/.style={color=highlight#1}
}

% Styles des heatmap pour les moyennes
\pgfplotsset{
	meanheatmap/.style={
		colorbar, colormap name=SRON,
		view={0}{90},
		samples=100,
		domain=0:1,
		min=0, max=1,
		xlabel={\(P\)},
		ylabel={\(R\)},
	}
}

% Commands sp√©cifiques
\NewDocumentCommand\shorturl{ O{https} O{://} m }{%
	\href{#1#2#3}{\nolinkurl{#3}}%
}

\DeclarePairedDelimiter\norm{\lVert}{\rVert}
\DeclarePairedDelimiter\abs{\lvert}{\rvert}
\DeclarePairedDelimiterX\compset[2]{\lbrace}{\rbrace}{#1\,\delimsize|\,#2}
\DeclarePairedDelimiterX\innprod[2]{\langle}{\rangle}{#1\,\delimsize|\,#2}

\DeclareMathOperator*\argmax{argmax}

% Easy column vectors \vcord{a,b,c} ou \vcord[;]{a;b;c}
% Here be black magic
\ExplSyntaxOn % chktex 1
	\NewDocumentCommand{\vcord}{O{,}m}{\vector_main:nnnn{p}{\\}{#1}{#2}}
	\NewDocumentCommand{\tvcord}{O{,}m}{\vector_main:nnnn{psmall}{\\}{#1}{#2}}
	\seq_new:N\l__vector_arg_seq
	\cs_new_protected:Npn\vector_main:nnnn #1 #2 #3 #4{
		\seq_set_split:Nnn\l__vector_arg_seq{#3}{#4}
		\begin{#1matrix}
			\seq_use:Nnnn\l__vector_arg_seq{#2}{#2}{#2}
		\end{#1matrix}
	}
\ExplSyntaxOff % chktex 1

\DeclareMathOperator{\TF}{TF}
\DeclareMathOperator{\IDF}{IDF}

\ExplSyntaxOn % chktex 1
	\DeclareExpandableDocumentCommand\eval{m}{\fp_eval:n{#1}}
\ExplSyntaxOff % chktex 1


% Fixes for pauses after an unveiled list
\newcommand{\itpause}{%
	\addtocounter{beamerpauses}{-1}%
	\pause % chktex 1
}

% Rectangles aroundt things
\NewDocumentCommand\hightlightikz{D<>{1-} O{accent} O{} m}{%
	\alt<#1>{%
		\tikz[baseline]{
			\node[alt=<{#2}>{#3}, inner sep=3pt, anchor=text, rectangle, rounded corners=1mm, draw=#2] {#4};
		}%
	}{%
		#4%
	}%
}


% ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà‚ñà    ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
% ‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà      ‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà      ‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà    ‚ñà‚ñà
% ‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà      ‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà  ‚ñà‚ñà    ‚ñà‚ñà
% ‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà      ‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà  ‚ñà‚ñà  ‚ñà‚ñà ‚ñà‚ñà      ‚ñà‚ñà  ‚ñà‚ñà ‚ñà‚ñà    ‚ñà‚ñà
% ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà      ‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà   ‚ñà‚ñà‚ñà‚ñà    ‚ñà‚ñà


\begin{document}
\pdfbookmark[2]{Title}{title}

\begin{frame}[plain]
	\titlepage % chktex 1
\end{frame}


\begin{frame}{Exercice}
	\begin{itemize}
		\item Un moteur de recherche donn√© renvoie en g√©n√©ral la plupart des documents pertinent pour une requ√™te, mais aussi beaucoup de documents qui n'ont rien √† voir. A-t-il une bonne pr√©cision‚ÄØ? Un bon rappel‚ÄØ?
		\item J'entre dans un moteur de recherche la requ√™te ¬´‚ÄØChopin‚ÄØ¬ª. Il renvoie \num{10} documents qui concernent Fr√©d√©ric Chopin, \num{5} qui concernent Florent Chopin, un qui concerne Paul-Fran√ßois Choppin, \num{2} qui concernent George Sand (qui a notoirement eu une relation sentimentale avec Fr√©d√©ric Chopin) et \num{3} qui concernent la mission Apollo 13. √âvaluer ce r√©sultat.
	\end{itemize}
\end{frame}

\begin{frame}[fragile=singleslide]{Exercice}
	√âtant donn√©e la matrice de confusion suivante (vraies classes en lignes)
	\begin{enumerate}
		\item Sans faire de calculs, que penser des r√©sultats pour la classe ¬´‚ÄØpony‚ÄØ¬ª‚ÄØ?
		\item D√©terminer pr√©cision, rappel et F-mesure pour chacune des classes, ainsi que les micro- et macro-moyennes.
	\end{enumerate}
	\begin{table}
		\begin{tabu}{|l|*{2}{c|}}
			\hline
						&  pony    & metal band\\
			\hline
			pony        & \num{20} & \num{12}\\
			\hline
			metal band  & \num{4}  & \num{12}\\
			\hline
		\end{tabu}
		\caption{Matrice de confusion pour un probl√®me √† deux classes}
	\end{table}

	{\small\shorturl[http]{aiweirdness.com/post/174211306032/metal-band-or-my-little-pony}}
\end{frame}

% ‚ñà‚ñà       ‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà      ‚ñà‚ñà      ‚ñà‚ñà ‚ñà‚ñà‚ñà    ‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
% ‚ñà‚ñà      ‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà      ‚ñà‚ñà      ‚ñà‚ñà      ‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà
% ‚ñà‚ñà      ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà      ‚ñà‚ñà      ‚ñà‚ñà ‚ñà‚ñà ‚ñà‚ñà  ‚ñà‚ñà ‚ñà‚ñà   ‚ñà‚ñà‚ñà
% ‚ñà‚ñà      ‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà      ‚ñà‚ñà      ‚ñà‚ñà      ‚ñà‚ñà ‚ñà‚ñà  ‚ñà‚ñà ‚ñà‚ñà ‚ñà‚ñà    ‚ñà‚ñà
% ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà ‚ñà‚ñà   ‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà

\section{Annotation}

\begin{frame}[fragile=singleslide]{Annotation}
	L'\emph{annotation} ou \emph{√©tiquetage} est la t√¢che consistant √† attribuer une √©tiquette √† chaque √©l√©ment d'un ensemble \alert{structur√©}.

	\begin{itemize}
		\item ¬´ D√©terminer les cat√©gories grammaticales des mots d'une phrase ¬ª
		\item ¬´ D√©couper un discours en parties th√©matiques ¬ª
	\end{itemize}

	\begin{figure}
		\tikzset{external/export=true}
		\begin{tikzpicture}[true scale=0.80]
			\node[data, highlight=4] (in) {Donn√©e};
			\node[program, right=1cm of in, text width=12ex] (prog) {Programme d'annotation};
			\node[data, right=1cm of prog] (out) {Donn√©e annot√©e};
			\node[data, below=.6cm of prog, highlight=8] (res) {Ensemble des √©tiquettes};
			\draw[->] (in) -- (prog);
			\draw[->] (prog) -- (out);
			\draw[->] (res) -- (prog);
		\end{tikzpicture}
	\end{figure}
	\vskip-1em
	\begin{itemize}
		\item La \textcolor{highlight4}{donn√©e} √† annoter est compos√©e de plusieurs unit√©s et munie d'une structure d'\alert{ordre}
		\item Chacune des unit√©s se voit attribuer une des \textcolor{highlight8}{√©tiquettes} possibles, qui sont connus √† l'avance
	\end{itemize}
\end{frame}

\begin{frame}{Structure et ordre}
	L'annotation se distingue de la classification par la notion de \emph{structure}.
	\begin{itemize}
		\item Les unit√©s √† annoter sont li√©es par des relations
			\begin{itemize}
				\item Ordre total (s√©quence)
				\item Ordre partiel (arbre, DAG)
				\item Arbitraires (graphe)
			\end{itemize}
		\item Les √©tiquettes qui leur sont attribu√©es d√©pendent de ces relations
	\end{itemize}
\end{frame}

\begin{frame}[fragile=singleslide]{Exemples}
	\begin{figure}
		\tikzset{external/export=true}
		\begin{tikzpicture}
			\matrix[matrix of nodes, anchor=base, row sep=1.5em] (m) {
				Le  & petit & chat  & est & content\\
				DET & ADJ   & NC    & V   & ADJ\\
			};
			\foreach \x in {1, ..., 5}
				\draw[->] (m-1-\x) -- (m-2-\x);
		\end{tikzpicture}
		\caption{\emph{Part Of Speech Tagging}}
	\end{figure}
\end{frame}

\begin{frame}[fragile=singleslide]{Exemples}
	\begin{figure}
		\tikzset{external/export=true}
		\begin{tikzpicture}
			\matrix[matrix of nodes, anchor=base, row sep=1.5em] (m) {
				Le  & petit & chat  & est & content\\
				B & I   & I   & B & B\\
			};
			\foreach \x in {1, ..., 5}
				\draw[->] (m-1-\x) -- (m-2-\x);

			\matrix[matrix of nodes, anchor=base, below=2em of m] (s){
				(   & Le    & petit & chat & )  & ( & est   & ) & (  & content & )\\
			};
			\foreach \x/\y in {4/5, 4/6, 5/8, 5/9}
				\draw[->] (m-2-\x) -- (s-1-\y);
		\end{tikzpicture}
		\caption{\emph{Chunking}}
	\end{figure}
\end{frame}

\begin{frame}[fragile=singleslide]{Exemples}
	\begin{figure}
		\tikzset{external/export=true}
		\begin{forest}
			[S
				[NP‚Üí\textcolor{highlighta}{sub}
					[Det the]
					[N cat]
				]
				[VP‚Üí\textcolor{highlighta}{pred}
					[V sat]
					[PP‚Üí\textcolor{highlighta}{mod}
						[P on]
						[NP
							[Det the]
							[N mat]
						]
					]
				]
			]
		\end{forest}
		\caption{\textcolor{highlighta}{√âtiquetage fonctionnel} d'un arbre syntaxique}
	\end{figure}
\end{frame}

\begin{frame}{√âvaluation}
	Pour √©valuer un √©tiquetage, on choisit en g√©n√©ral de le consid√©rer comme un probl√®me de classification √† plusieurs classes
	\begin{itemize}
		\item On consid√®re chaque unit√© comme une donn√©e et chaque √©tiquette comme une classe
		\item On calcule comme pr√©c√©demment \(P\), \(R\) et \(F\)
		\item On privil√©gie les micro-averages pour les scores globaux
	\end{itemize}
\end{frame}

\begin{frame}[fragile]{Apart√© : micro-average et exactitude}
	\begin{theorem}
		Si chaque unit√© re√ßoit une unique √©tiquette, les micro-average de \(P\), \(R\) et \(F\) sont √©gales √† l'exactitude.
	\end{theorem}
	On consid√®re la matrice de confusion suivante
	\begin{center}
		\tikzset{external/export=true}
		\begin{tikzpicture}[
			table/.style={
				matrix of nodes,
				row sep=-\pgflinewidth,
				column sep=-\pgflinewidth,
				nodes={draw, text width=3ex, align=center},
				text depth=0.25ex,
				text height=1em,
				nodes in empty cells
			},
			aa/.style={},
			bb/.style={},
			cc/.style={},
			ab/.style={},
			ac/.style={},
			ba/.style={},
			bc/.style={},
			ca/.style={},
			cb/.style={},
		]
			\matrix[table]{
							  & |(apred)| A   & |(bpred)| B   & |(cpred)| C\\
				|(atrue)| A   & |[aa]| $aa$   & |[ab]| $ab$   & |[ac]| $ac$\\
				|(btrue)| B   & |[ba]|¬†$ba$   & |[bb]| $bb$   & |[bc]| $bc$\\
				|(ctrue)| C   & |[ca]| $ca$   & |[cb]| $cb$   & |[cc]| $cc$\\
			};

			\draw [decorate, decoration={brace, amplitude=1em}, yshift=-0.5ex] (apred.north west) -- (cpred.north east) node [midway, above=1.25ex] {Classes pr√©dites};
			\draw [decorate, decoration={brace, amplitude=1em, mirror}, xshift=-0.5ex] (atrue.north west) -- (ctrue.south west) node [midway, left=1.25ex, rotate=90, anchor=south] {Vraies classes};
		\end{tikzpicture}
	\end{center}
	Preuve‚ÄØ: voir le poly
\end{frame}

% TODO: add slides for the proof above

% ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà
% ‚ñà‚ñà      ‚ñà‚ñà
% ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà
% ‚ñà‚ñà      ‚ñà‚ñà
% ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà

\section{L'extraction d'informations}
\begin{frame}[fragile]{Extraction d'informations}
	L'\emph{extraction d'informations} est la t√¢che consistant √† trouver dans un document les \alert{r√©ponses} √† des questions pr√©d√©finies.

	\only<1>{
		\begin{itemize}
			\item ¬´ D√©terminer le nom du h√©ros et des principaux protagonistes d'un texte narratif ¬ª
			\item ¬´ D√©terminer les sympt√¥mes pr√©sent√©s par un patient √† partir d'un rapport clinique ¬ª
		\end{itemize}
	}

	\begin{figure}
		\tikzset{external/export=true}
		\begin{tikzpicture}[true scale=0.80]
			\node[data, highlight=4] (in) {Donn√©e};
			\node[program, right=1cm of in, text width=12ex] (prog) {Programme d'EI};
			\node[data, right=1cm of prog, highlight=6] (out) {Champs remplis};
			\node[data, below=.6cm of prog, highlight=8] (res) {Champs √† remplir};
			\draw[->] (in) -- (prog);
			\draw[->] (prog) -- (out);
			\draw[->] (res) -- (prog);
		\end{tikzpicture}
	\end{figure}

	\only<2>{
		\begin{itemize}
			\item La \textcolor{highlight4}{donn√©e} est un texte brut ou un document semi-structur√©
			\item La \textcolor{highlight6}{sortie} est un tableau qui donne la valeur de chacun des champs
			\item Les \textcolor{highlight8}{champs} \emph{peuvent} √™tre multivalu√©s et en nombre variable
		\end{itemize}
	}
\end{frame}

% TODO: add cites
\begin{frame}{Domaines d'application}
	Ils sont nombreux !
	\begin{itemize}
		\item Identification de protagonistes (litt√©rature, militaire)
		\item Identification d'√©v√©nement (biom√©dical, militaire)
		\item Fouille d'arguments
			\begin{itemize}
				\item Aide √† la d√©cision (politique)
					\begin{itemize}
						\item[‚Üí] IBM Watson (\textcite{slonim2014claims}, \shorturl{youtube.com/watch?v=sEf0GLvrP9U})
					\end{itemize}
				\item Aide √† la lecture (judiciaire, scientifique)
					\begin{itemize}
						\item[‚Üí] ¬´ Argument zoning ¬ª (\textcite{teufel2009argument}, \shorturl{www.cl.cam.ac.uk/~sht25/az.html})
					\end{itemize}
			\end{itemize}
		\item ‚Ä¶
	\end{itemize}
	√Ä l'extr√™me, la t√¢che se confond avec la compr√©hension de document.
\end{frame}

\begin{frame}{√âvaluation}
	L'id√©e est toujours de se comparer √† une r√©f√©rence humaine.
	\begin{itemize}
		\item Basiquement : on compare les contenus des champs et on en d√©duit \(P\), \(R\) et \(F\)
		\item Plus subtilement : on peut utiliser des mesures d'ad√©quation entre les r√©ponses
			\begin{itemize}
				\item[‚Üí] Une r√©ponse peut √™tre partiellement correcte : on pond√®re~!
			\end{itemize}
		\item Pour certaines t√¢ches, on utilise des mesures sp√©cifiques
			\begin{itemize}
				\item Pour les t√¢ches comprenant une composante de localisation (NER, Argument Zoning), on peut appliquer des pond√©rations diff√©rentes √† extraction et localisation
			\end{itemize}
	\end{itemize}
\end{frame}

\begin{frame}{Exercice}
	Une requ√™te dans un moteur de recherche renvoie \num{27} documents. Parmi ceux-ci, \num{13} sont pertinents pour cette requ√™te. Une √©tude du corpus montre que parmi ses \num{1024} documents, \num{15} √©taient pertinents pour cette requ√™te.
	\begin{itemize}
		\item D√©terminer les nombres de vrais positifs, vrais n√©gatifs, faux positifs et faux n√©gatifs
		\item D√©terminer la pr√©cision, le rappel et la $F$-mesure associ√©es
		\item M√™mes questions pour un corpus de taille \num{2713}
	\end{itemize}
\end{frame}

% ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà       ‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
% ‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà      ‚ñà‚ñà      ‚ñà‚ñà   ‚ñà‚ñà    ‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà
% ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà      ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà    ‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà ‚ñà‚ñà  ‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
% ‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà      ‚ñà‚ñà      ‚ñà‚ñà   ‚ñà‚ñà    ‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà  ‚ñà‚ñà ‚ñà‚ñà      ‚ñà‚ñà
% ‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà   ‚ñà‚ñà    ‚ñà‚ñà    ‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà   ‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà


\section{Relations entre t√¢ches}
\begin{frame}<1>[label=taskrel]{Relations entre t√¢ches}
	Les t√¢ches pr√©sent√©es pr√©c√©demment sont \alert{√©l√©mentaires} au sens o√π on peut y \alert{r√©duire} la plupart des t√¢ches de la fouille de texte.

	Cependant ces t√¢ches ne sont pas compl√®tement ind√©pendantes les unes des autres \emph{via} des \alert{reformulations}.
\end{frame}

\begin{frame}[fragile]{La RI comme classification}
	On peut voir la RI comme un probl√®me de \alert{classification binaire}
	\vspace{-\bigskipamount}
	\begin{figure}
		\tikzset{external/export=true}
		\begin{tikzpicture}[true scale=0.75]
			\node[data, alt=<2>{highlight=0}] (in) {Requ√™te};
			\node[program, right=1.5cm of in, text width=13ex, visible on=2] (prog) {Programme de classification};
			\node[data, below=1.5cm of prog, alt=<2>{highlight=1}] (res) {Corpus};
			\node[data, right=3.5cm of prog, text width=10ex] (out) {Documents pertinents};
			\draw
				($(prog.north west)+(-1cm, 1.25cm)$)
				-- ($(prog.north east)+(3cm, 1.25cm)$)
				-- ($(prog.south east)+(3cm, -1.25cm)$)
				-- ($(prog.south west)+(-1cm, -1.25cm)$)
				-- cycle;
			\alt<1> {
				\node (ri) at (prog) {Programme de RI};
				\draw[->] (in.east) -- ($(prog.west)-(1cm, 0)$);
				\draw[->] (res.north) -- ($(prog.south)-(0, 1.25cm)$);
				\draw[->] ($(prog.east)+(3cm, 0)$) -- (out);
			}{
				\node[anchor=north west] (ri) at ($(prog.north west)+(-0.9cm, 1.15cm)$) {Programme de RI};
				\draw[->] (in.east) -- ($(prog.west)-(0.75cm, 0)$) |- ($(prog.south)-(0, 0.5cm)$) -- (prog.south);
				\draw[->] (res.north) -- ($(prog.south)-(0, 1cm)$) -| ($(prog.west)-(0.5cm, 0)$) -- (prog.west);
				\node[data, right=0.5cm of prog.east, highlight=3] (clas) {Classes};
				\draw[->] (prog) -- (clas) -- (out);
			}
		\end{tikzpicture}
		\caption{La RI comme une classification}
	\end{figure}
	\vspace{-\bigskipamount}
	\only<2>{
		\begin{itemize}
			\item On r√©partit les documents entre les \textcolor{highlight3}{classes} ¬´‚ÄØpertinent‚ÄØ¬ª et ¬´‚ÄØnon-pertinent‚ÄØ¬ª
			\item \textcolor{highlight0}{La requ√™te} devient une ressource et \textcolor{highlight1}{le corpus} une entr√©e
		\end{itemize}
	}
\end{frame}

\begin{frame}{L'annotation comme classification}
	Plusieurs strat√©gies sont envisageables pour conserver l'information de structure
	\begin{itemize}
		\item Voir la suite des √©tiquettes d'une s√©quence comme une seule classe.
		\item √âtiqueter par classifications successives en utilisant √† chaque √©tape l'ensemble des √©tiquettes pr√©c√©dentes comme information pour choisir l'√©tiquette suivante.
	\end{itemize}
\end{frame}

\begin{frame}[fragile]{L'annotation comme une suite de classifications}
	\begin{figure}
		\tikzset{external/export=true}
		\begin{tikzpicture}[
				row 2 column 1/.style={visible on={1,2,6}},
				row 2 column 2/.style={visible on={2,3,6}},
				row 2 column 3/.style={visible on={3,4,6}},
				row 2 column 4/.style={visible on={4,5,6}},
				row 2 column 5/.style={visible on={5-}},
			]
			\matrix[matrix of nodes, anchor=base, row sep=1.5em] (m) {
				Le  & petit & chat  & est & content\\
				DET & ADJ   & NC    & V   & ADJ\\
			};
			\foreach \x in {1, ..., 5}
				\draw[->, visible on={\x,6}] (m-1-\x) -- (m-2-\x);
		\end{tikzpicture}
		\caption{\emph{Part Of Speech Tagging} comme une suite de classifications}
	\end{figure}
	\only<6>{}
\end{frame}

\begin{frame}<1>[label=segmentation]{Apart√©: segmentation et rep√©rage}
	Une t√¢che courante en TAL‚ÄØ: rep√©rer des zones dans un texte
	\begin{itemize}
		\item En EI‚ÄØ: par exemple repr√©rer des parties d'un document
		\item Reconnaissance d'entit√©s nomm√©es
		\item Segmentation en phrases
		\item ‚Ä¶
	\end{itemize}

	\pause

	Probl√®me‚ÄØ: on fait comment ?
\end{frame}

\begin{frame}<-2>[fragile]{Exemple‚ÄØ: rep√©rage de noms de lieux}
	On a un texte

	\vspace{\bigskipamount}
	{\itshape
		C‚Äô√©tait √† \hightlightikz<2->{M√©gara, faubourg de \hightlightikz<2->{Carthage}}, dans \hightlightikz<2->{les jardins d‚ÄôHamilcar}. Les soldats qu‚Äôil avait command√©s en \hightlightikz<2->{Sicile} se donnaient un grand festin pour c√©l√©brer le jour anniversaire de la bataille d‚Äô\hightlightikz<2->{√âryx}.
	}
	\vspace{\bigskipamount}

	\pause

	On veut y rep√©rer des zones, ici les \alert{lieux}.
\end{frame}

\againframe{segmentation}

\begin{frame}<-4>[fragile]{Apart√©: segmentation et rep√©rage}
	Observation‚ÄØ: il suffit de savoir pour chaque mot s'il est dans une zone.

	Par exemple pour rep√©rer les \textcolor{sronbrightpurple}{noms de personnes}

	\tikzset{external/export=true}
	\begin{tikzpicture}[true scale=0.9]
		\matrix[matrix of nodes, anchor=base, row sep=0em, column sep=0em, row 2/.style={font=\bfseries, visible on={2-}}] (m) {
			C' & √©taient & |[sronbrightpurple]|  Susan & |[sronbrightpurple]| Calvin & et & |[sronbrightpurple]| Alfred & |[sronbrightpurple]| Lanning & de & l' & US & Robots\\
			\alt<-3>{üö´}{O} & \alt<-3>{üö´}{O} & |[sronbrightpurple]| \alt<-3>{üëÜ}{I} & |[sronbrightpurple]| \alt<-3>{üëÜ}{I} & \alt<-3>{üö´}{O} & |[sronbrightpurple]| \alt<-3>{üëÜ}{I} & |[sronbrightpurple]| \alt<-3>{üëÜ}{I} & \alt<-3>{üö´}{O} & \alt<-3>{üö´}{O} & \alt<-3>{üö´}{O} & \alt<-3>{üö´}{O}\\
		};
	\end{tikzpicture}

	\onslide<3-> Mais √ßa c'est exactement des √©tiquettes‚ÄØ!

	\onslide<4> Par convention on utilise plut√¥t \alert{I} \enquote{\emph{Inside}} et \alert{O} \enquote{\emph{Outside}}.
\end{frame}

% \begin{frame}[fragile]{EI comme annotation}
% 	\begin{figure}
% 		\begin{overprint}
% 			\onslide<1>
% 				\tikzset{external/export=true}
% 				\begin{tikzpicture}
% 					\matrix[matrix of nodes, anchor=base, row sep=1.5em] (m) {
% 						En & 2019 & la & France & gagne & √† & l' & Eurovision\\
% 						O & D & O & C & O & O & O & E\\
% 					};
% 					\foreach \x in {1, ..., 8}
% 						\draw[->] (m-1-\x) -- (m-2-\x);
% 				\end{tikzpicture}
% 			\onslide<2>
% 				\tikzset{external/export=true}
% 				\begin{tikzpicture}
% 					\matrix[matrix of nodes, anchor=base, row sep=1.5em] (m) {
% 						En & 2019 & la & France & gagne & √† & l' & Eurovision\\
% 						O & B-D & B-C & I-C & O & O & B-E & I-E\\\\
% 					};
% 					\foreach \x in {1, ..., 8}
% 						\draw[->] (m-1-\x) -- (m-2-\x);
% 				\end{tikzpicture}
% 			\onslide<3>
% 				\tikzset{external/export=true}
% 				\begin{tikzpicture}
% 					\matrix[matrix of nodes, anchor=base, row sep=1.5em] (m) {
% 						En & 2019 & la & France & gagne & √† & l' & Eurovision\\
% 						O & U-D & B-C & L-C & O & O & B-E & L-E\\\\
% 					};
% 					\foreach \x in {1, ..., 8}
% 						\draw[->] (m-1-\x) -- (m-2-\x);
% 				\end{tikzpicture}
% 		\end{overprint}
% 		\caption{\emph{EI} comme une annotation}
% 	\end{figure}
% \end{frame}

\begin{frame}{Exercice}
	\begin{enumerate}
		\item Donner la suite d'√©tiquettes correspondant au parenth√©sage suivant‚ÄØ: (Le volcan Eyjafjallaj√∂kull)\textsubscript{P} est (entr√© en √©ruption)\textsubscript{E} (hier)\textsubscript{D} √† (15h30)\textsubscript{T}
			\begin{enumerate}
				\item En BIO
				\item En BILOU
			\end{enumerate}
		\item Donner une phrase qui correspond √† la suite d'√©tiquettes de chunking \texttt{B-N I-N I-N I-V I-Adj}
	\end{enumerate}
\end{frame}


%  ‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà    ‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà ‚ñà‚ñà   ‚ñà‚ñà
% ‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà      ‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà  ‚ñà‚ñà ‚ñà‚ñà
% ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà  ‚ñà‚ñà ‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà   ‚ñà‚ñà‚ñà
% ‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà      ‚ñà‚ñà      ‚ñà‚ñà      ‚ñà‚ñà  ‚ñà‚ñà ‚ñà‚ñà ‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà  ‚ñà‚ñà ‚ñà‚ñà
% ‚ñà‚ñà   ‚ñà‚ñà ‚ñà‚ñà      ‚ñà‚ñà      ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà   ‚ñà‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà ‚ñà‚ñà   ‚ñà‚ñà


\appendix
\pgfkeys{/metropolis/inner/sectionpage=simple}  % Avoid random errors with section page progressbar
\section{Annexes}
\pdfbookmark[2]{Remerciements}{acknowledgements}
\begin{frame}{Remerciements}
	Ce cours a √©t√© construit √† partir du polycopi√© de cours \citetitle{tellier2017IntroductionFouilleTextes} \parencite{tellier2017IntroductionFouilleTextes} et des pr√©cieux conseils d'Isabelle Tellier que je ne saurais trop remercier pour sa confiance et son d√©vouement.
\end{frame}

\pdfbookmark[2]{R√©f√©rences}{references}
\begin{frame}[allowframebreaks]{References}
	\printbibliography[heading=none]
\end{frame}

\pdfbookmark[2]{Licence}{licence}
\begin{frame}{Licence}
	\begin{center}
		{\huge \ccby}
		\vfill
		This document is available under the terms of the Creative Commons Attribution 4.0 International License (CC BY 4.0) (\shorturl{creativecommons.org/licenses/by/4.0})

		Exceptions to the above statement are listed at {\small\shorturl{loicgrobol.github.io/intro-fouille-textes\#licences}}
		\vfill
		¬© 2019, Lo√Øc Grobol <\shorturl[mailto][:]{loic.grobol@gmail.com}>

		\shorturl[http]{lattice.cnrs.fr/Grobol-Loic}
	\end{center}
\end{frame}

\end{document}
